<app-nav></app-nav>
<div class="main container-fluid">
    <div class="row vrh">
        <h3 class="naslov">My Account</h3>
    </div>
    <div class="row">
        <div class="lijevo">
            <div class="account-user">
                <img src="../../assets/user.jpg" class="user-pic">
                <div class="about-user">
                    <p class="username">{{curUser?.username}}</p>
                    <small class="username">{{curUser?.email}}</small>
                </div>
            </div>
            <ul>
                <li><a [routerLink]="['/account']" class="fontic" (mouseover)="this.hovered = true;"
                        (mouseout)="this.hovered = false;">ORDERS</a>
                </li>
                <li><a [routerLink]="['/account/details']" class="fontic" [ngStyle]="vracaStyle()">PERSONAL DETAILS</a>
                </li>
                <li *ngIf="curUser?.admin"><a [routerLink]="['/users']" class="fontic"
                        (mouseover)="this.hovered = true;" (mouseout)="this.hovered = false;">MANAGE USERS</a></li>
            </ul>
        </div>
        <div class="desno">
            <div class="redovi row donja-crta">
                <h4 class="user-detail">User details:</h4>
            </div>
            <hr>
            <div class="redovi row">
                <div class="nosiLijevo">
                    <strong class="narudzbaId">Name:</strong>
                    <p *ngIf="this.changeName === false" class="narudzbaDatum">{{curUser?.name}}</p>
                    <input *ngIf="this.changeName === true" type="text" [(ngModel)]="name">
                </div>
                <div class="nosiElemente">
                    <a *ngIf="this.changeName === false" class="narudzbaId" (click)="this.changeName = true;">Change
                        name</a>
                    <button *ngIf="this.changeName === true" class="narudzbaId" (click)="nameChange()">Change
                        name</button>
                </div>

            </div>
            <div class="redovi row">
                <div class="nosiLijevo">
                    <strong class="narudzbaId">Username:</strong>
                    <p *ngIf="this.changeUsername === false" class="narudzbaDatum">{{curUser?.username}}</p>
                    <input *ngIf="this.changeUsername === true" type="text" [(ngModel)]="username">
                </div>
                <div class="nosiElemente">
                    <a *ngIf="this.changeUsername === false" class="narudzbaId"
                        (click)="this.changeUsername = true;">Change username</a>
                    <button *ngIf="this.changeUsername === true" class="narudzbaId" (click)="usernameChange()">Change
                        username</button>
                </div>
            </div>
            <div class="redovi row">
                <div class="nosiLijevo">
                    <strong class="narudzbaId">Email:</strong>
                    <p *ngIf="this.changeEmail === false" class="narudzbaDatum">{{curUser?.email}}</p>
                    <input *ngIf="this.changeEmail === true" type="text" [(ngModel)]="email">
                </div>
                <div class="nosiElemente">
                    <a *ngIf="this.changeEmail === false" class="narudzbaId" (click)="this.changeEmail = true;">Change
                        email</a>
                    <button *ngIf="this.changeEmail === true" class="narudzbaId" (click)="emailChange()">Change
                        email</button>
                </div>
            </div>
            <div class="redovi row">

                <a *ngIf="this.changePassword === false" class="narudzbaId user-detail"
                    (click)="this.changePassword = true;">Change
                    password</a>
                <div class="pass" *ngIf="this.changePassword === true">
                    <div>
                        <strong class="narudzbaId">Old password:</strong>
                        <input type="text" [(ngModel)]="passwordOld">
                    </div>
                    <div>
                        <strong class="narudzbaId">New password:</strong>
                        <input type="text" [(ngModel)]="passwordNew">
                    </div>
                    <div>
                        <strong class="narudzbaId">Confirm new password:</strong>
                        <input type="text" [(ngModel)]="passwordConf">
                    </div>
                    <button class="narudzbaId" [disabled]="passwordNew !== passwordConf"
                        (click)="passwordChange()">Change
                        password</button>

                </div>

            </div>

        </div>
    </div>

</div>